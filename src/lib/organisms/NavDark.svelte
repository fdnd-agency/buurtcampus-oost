<script>
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';
	import { onMount } from 'svelte';
	// import HeaderDef from './HeaderDef.svelte';

	gsap.registerPlugin(ScrollTrigger);

	function setActiveLink() {
		const links = document.querySelectorAll('.menu-item');
		links.forEach((link) => {
			if (link.getAttribute('href') === window.location.pathname) {
				link.classList.add('active');
			} else {
				link.classList.remove('active');
			}
		});
	}

	onMount(() => {
		setActiveLink();

		gsap.from('nav', {
			delay: 0.5,
			duration: 1,
			y: '-100%',
			ease: 'Power4.easeOut'
		});

		const showAnim = gsap
			.from('nav', {
				yPercent: -100,
				paused: true,
				duration: 0.2
			})
			.progress(1);

		ScrollTrigger.create({
			start: 'top top',
			end: 99999,
			onUpdate: (self) => {
				self.direction === -1 ? showAnim.play() : showAnim.reverse();
			}
		});
	});
</script>

<header>
	<div class="header-wrapper">
		<nav>
			<a href="/">
				<!-- <img class="logo" src={logo} alt="" /> -->
				<svg
					width="251"
					height="101"
					viewBox="0 0 251 101"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M37.925 65.56V45.05C37.925 44.2567 37.9017 43.4517 37.855 42.635C37.8083 41.8183 37.7383 41.0133 37.645 40.22H43.665L44.05 43.37H43.7C44.0267 42.32 44.75 41.4683 45.87 40.815C46.99 40.1617 48.2383 39.835 49.615 39.835C51.155 39.835 52.5083 40.2083 53.675 40.955C54.8417 41.6783 55.7517 42.74 56.405 44.14C57.0817 45.5167 57.42 47.1733 57.42 49.11C57.42 51.0233 57.0817 52.68 56.405 54.08C55.7517 55.48 54.8417 56.5533 53.675 57.3C52.5083 58.0233 51.155 58.385 49.615 58.385C48.2617 58.385 47.0367 58.0817 45.94 57.475C44.8433 56.845 44.12 56.0167 43.77 54.99H44.155V65.56H37.925ZM47.62 53.765C48.6933 53.765 49.545 53.4033 50.175 52.68C50.8283 51.9333 51.155 50.7433 51.155 49.11C51.155 47.4767 50.8283 46.2983 50.175 45.575C49.545 44.8283 48.6933 44.455 47.62 44.455C46.57 44.455 45.7183 44.8283 45.065 45.575C44.4117 46.2983 44.085 47.4767 44.085 49.11C44.085 50.7433 44.4117 51.9333 45.065 52.68C45.7183 53.4033 46.57 53.765 47.62 53.765ZM60.4494 58V32.24H66.6794V58H60.4494ZM77.5324 58.385C75.9924 58.385 74.6391 58.0233 73.4724 57.3C72.3058 56.5533 71.3841 55.48 70.7074 54.08C70.0541 52.68 69.7274 51.0233 69.7274 49.11C69.7274 47.1733 70.0541 45.5167 70.7074 44.14C71.3841 42.74 72.3058 41.6783 73.4724 40.955C74.6391 40.2083 75.9924 39.835 77.5324 39.835C78.9091 39.835 80.1458 40.1617 81.2424 40.815C82.3624 41.4683 83.0974 42.32 83.4474 43.37H83.0974L83.4824 40.22H89.4674C89.3974 41.0133 89.3274 41.8183 89.2574 42.635C89.2108 43.4517 89.1874 44.2567 89.1874 45.05V58H83.0274L82.9574 54.99H83.3774C83.0274 56.0167 82.2924 56.845 81.1724 57.475C80.0758 58.0817 78.8624 58.385 77.5324 58.385ZM79.5274 53.765C80.5774 53.765 81.4291 53.4033 82.0824 52.68C82.7358 51.9333 83.0624 50.7433 83.0624 49.11C83.0624 47.4767 82.7358 46.2983 82.0824 45.575C81.4291 44.8283 80.5774 44.455 79.5274 44.455C78.4774 44.455 77.6258 44.8283 76.9724 45.575C76.3191 46.2983 75.9924 47.4767 75.9924 49.11C75.9924 50.7433 76.3074 51.9333 76.9374 52.68C77.5908 53.4033 78.4541 53.765 79.5274 53.765ZM93.0568 58V45.05C93.0568 44.2567 93.0335 43.4517 92.9868 42.635C92.9402 41.8183 92.8702 41.0133 92.7768 40.22H98.7968L99.1468 43.3H98.7618C99.3452 42.18 100.174 41.3283 101.247 40.745C102.32 40.1383 103.534 39.835 104.887 39.835C106.964 39.835 108.515 40.4533 109.542 41.69C110.592 42.9033 111.117 44.805 111.117 47.395V58H104.887V47.675C104.887 46.5317 104.689 45.7383 104.292 45.295C103.895 44.8283 103.324 44.595 102.577 44.595C101.597 44.595 100.804 44.9217 100.197 45.575C99.5902 46.205 99.2868 47.045 99.2868 48.095V58H93.0568ZM123.963 58.385C121.443 58.385 119.542 57.79 118.258 56.6C116.998 55.3867 116.368 53.555 116.368 51.105V44.805H113.043V40.22H116.368V36.02L122.598 34.55V40.22H126.938V44.805H122.598V50.86C122.598 51.8867 122.832 52.575 123.298 52.925C123.765 53.2517 124.325 53.415 124.978 53.415C125.375 53.415 125.713 53.3917 125.993 53.345C126.297 53.275 126.612 53.1817 126.938 53.065V57.86C126.425 58.07 125.912 58.21 125.398 58.28C124.908 58.35 124.43 58.385 123.963 58.385ZM136.181 58.385C134.524 58.385 133.019 58.2217 131.666 57.895C130.336 57.545 129.204 57.0783 128.271 56.495L129.776 52.435C130.686 52.9483 131.701 53.3683 132.821 53.695C133.964 54.0217 135.096 54.185 136.216 54.185C137.102 54.185 137.744 54.0567 138.141 53.8C138.561 53.52 138.771 53.1583 138.771 52.715C138.771 52.365 138.642 52.085 138.386 51.875C138.129 51.665 137.744 51.5133 137.231 51.42L133.451 50.755C131.957 50.475 130.791 49.9267 129.951 49.11C129.134 48.27 128.726 47.185 128.726 45.855C128.726 44.6417 129.052 43.5917 129.706 42.705C130.359 41.795 131.292 41.095 132.506 40.605C133.719 40.0917 135.154 39.835 136.811 39.835C138.164 39.835 139.447 39.9867 140.661 40.29C141.897 40.5933 142.971 41.0717 143.881 41.725L142.271 45.68C141.547 45.19 140.696 44.7933 139.716 44.49C138.759 44.1633 137.861 44 137.021 44C136.017 44 135.306 44.1517 134.886 44.455C134.466 44.735 134.256 45.085 134.256 45.505C134.256 45.8317 134.372 46.1117 134.606 46.345C134.839 46.555 135.212 46.7067 135.726 46.8L139.506 47.465C141.046 47.7217 142.224 48.2583 143.041 49.075C143.881 49.8683 144.301 50.9533 144.301 52.33C144.301 53.6133 143.951 54.71 143.251 55.62C142.574 56.5067 141.629 57.195 140.416 57.685C139.202 58.1517 137.791 58.385 136.181 58.385ZM151.864 58L144.479 40.22H150.814L155.224 51.91H154.349L158.689 40.22H162.644L167.019 51.91H166.284L170.624 40.22H176.574L169.259 58H164.044L159.249 45.925H161.629L157.079 58H151.864ZM184.891 58.385C183.351 58.385 181.997 58.0233 180.831 57.3C179.664 56.5533 178.742 55.48 178.066 54.08C177.412 52.68 177.086 51.0233 177.086 49.11C177.086 47.1733 177.412 45.5167 178.066 44.14C178.742 42.74 179.664 41.6783 180.831 40.955C181.997 40.2083 183.351 39.835 184.891 39.835C186.267 39.835 187.504 40.1617 188.601 40.815C189.721 41.4683 190.456 42.32 190.806 43.37H190.456L190.841 40.22H196.826C196.756 41.0133 196.686 41.8183 196.616 42.635C196.569 43.4517 196.546 44.2567 196.546 45.05V58H190.386L190.316 54.99H190.736C190.386 56.0167 189.651 56.845 188.531 57.475C187.434 58.0817 186.221 58.385 184.891 58.385ZM186.886 53.765C187.936 53.765 188.787 53.4033 189.441 52.68C190.094 51.9333 190.421 50.7433 190.421 49.11C190.421 47.4767 190.094 46.2983 189.441 45.575C188.787 44.8283 187.936 44.455 186.886 44.455C185.836 44.455 184.984 44.8283 184.331 45.575C183.677 46.2983 183.351 47.4767 183.351 49.11C183.351 50.7433 183.666 51.9333 184.296 52.68C184.949 53.4033 185.812 53.765 186.886 53.765ZM200.415 65.56V45.05C200.415 44.2567 200.392 43.4517 200.345 42.635C200.299 41.8183 200.229 41.0133 200.135 40.22H206.155L206.54 43.37H206.19C206.517 42.32 207.24 41.4683 208.36 40.815C209.48 40.1617 210.729 39.835 212.105 39.835C213.645 39.835 214.999 40.2083 216.165 40.955C217.332 41.6783 218.242 42.74 218.895 44.14C219.572 45.5167 219.91 47.1733 219.91 49.11C219.91 51.0233 219.572 52.68 218.895 54.08C218.242 55.48 217.332 56.5533 216.165 57.3C214.999 58.0233 213.645 58.385 212.105 58.385C210.752 58.385 209.527 58.0817 208.43 57.475C207.334 56.845 206.61 56.0167 206.26 54.99H206.645V65.56H200.415ZM210.11 53.765C211.184 53.765 212.035 53.4033 212.665 52.68C213.319 51.9333 213.645 50.7433 213.645 49.11C213.645 47.4767 213.319 46.2983 212.665 45.575C212.035 44.8283 211.184 44.455 210.11 44.455C209.06 44.455 208.209 44.8283 207.555 45.575C206.902 46.2983 206.575 47.4767 206.575 49.11C206.575 50.7433 206.902 51.9333 207.555 52.68C208.209 53.4033 209.06 53.765 210.11 53.765Z"
						fill="white"
					/>
					<g clip-path="url(#clip0_92_20)">
						<path
							d="M18.3219 40.4741C18.7513 40.4159 19.2952 40.3868 19.9537 40.4741C21.4996 40.707 21.2133 40.9691 20.0109 40.8817C19.3239 40.8235 18.2646 41.1147 17.5203 41.4059C17.4058 41.5806 17.2913 41.7553 17.1768 41.93C18.0356 42.1338 19.7533 42.6288 21.2133 43.415C23.2459 44.5214 23.1886 45.162 20.9843 43.9973C19.3811 43.1529 17.6635 42.7161 16.8046 42.5414C16.7474 42.6288 16.7187 42.7161 16.6615 42.8035C16.4611 43.1529 16.2607 43.5314 16.0603 43.91C16.776 44.4923 18.5795 46.0064 20.24 47.5787C22.3298 49.5878 21.0415 48.9764 19.8392 47.7534C18.9231 46.8217 16.6042 45.3949 15.6023 44.7835C15.0297 45.8899 14.4285 47.0255 13.7987 48.1902C14.3713 48.8308 15.6595 50.2575 16.7187 51.8299C18.1501 53.9555 17.3486 53.4605 15.9744 51.7134C14.9724 50.4322 13.8846 49.384 13.3979 48.9473C12.5104 50.607 11.623 52.2958 10.7928 53.8681C11.2222 54.4796 12.5677 56.4595 12.9685 57.9445C13.3693 59.3422 13.0544 59.1675 12.4532 57.7698C11.9379 56.5469 10.7355 54.9454 10.4206 54.5378C8.04451 59.051 7.78686 59.3713 7.78686 59.3713C7.78686 59.3713 10.6783 53.1693 11.5944 51.1602C11.2222 50.9272 10.5638 50.6652 9.73355 50.607C8.47392 50.5487 8.18765 50.3158 9.56178 50.2575C10.5924 50.1993 11.5371 50.4322 11.9379 50.5196C12.5963 49.0346 13.2834 47.5496 13.8846 46.1229C13.5411 45.9482 12.7681 45.5988 11.4226 45.4532C9.53316 45.2494 9.24688 44.7835 11.4226 44.9291C12.8826 45.0164 13.7987 45.1911 14.2567 45.3076C14.5717 44.5214 14.8866 43.7935 15.1728 43.0655C14.3999 42.425 12.3101 40.8235 10.7069 40.1829C8.67432 39.3968 8.47392 39.1929 10.7642 39.8626C12.5391 40.3868 14.6862 41.5806 15.545 42.1047C15.6595 41.8135 15.7454 41.5514 15.8599 41.2894C15.545 40.7944 14.9152 40.0082 14.0277 39.3968C12.6536 38.465 12.7681 38.0574 14.4285 39.1347C15.2587 39.6879 15.774 40.1829 16.0603 40.5615C16.3752 38.9018 15.3446 37.3585 14.7434 36.7471C10.9073 32.6706 3.83621 36.3686 1.48873 41.5223C-0.314822 45.5114 8.10176 45.2202 7.0139 47.0546C5.89742 48.9181 -1.03052 43.1238 0.114596 51.5096C0.629897 55.324 5.06721 52.4122 5.72565 53.9846C6.75625 56.4013 0.629897 53.5769 1.20245 57.3913C1.48873 59.1675 1.86089 60.536 2.63385 62.9236C3.4068 65.3112 4.29426 66.9709 4.29426 66.9709C4.29426 66.9709 6.32684 65.3695 8.53118 65.515C10.7642 65.6606 13.8846 66.9418 15.4019 64.7871C18.0356 61.031 13.8846 57.071 15.8599 56.8672C17.4058 56.6925 18.7799 60.5651 18.6082 62.6033C18.4078 64.8745 23.4749 63.3021 23.4463 59.808C23.5035 55.091 18.3219 52.4705 18.5509 50.9564C18.8658 48.9473 22.2153 52.6161 23.389 54.6251C24.5628 56.6342 29.0001 53.4313 29.0001 48.2484C29.0001 41.697 22.7592 36.0483 18.3219 40.4741Z"
							fill="white"
						/>
					</g>
					<defs>
						<clipPath id="clip0_92_20">
							<rect width="29" height="32" fill="white" transform="translate(0 35)" />
						</clipPath>
					</defs>
				</svg>
			</a>
			<ul>
				<li>
					<a class="menu-item" href="/"> Home </a>
				</li>
				<li>
					<a class="menu-item" href="/stekjes_overzicht"> Stekjes </a>
				</li>
				<li>
					<a class="menu-item" href="/workshops"> Workshops </a>
				</li>

				<li>
					<a class="menu-item" href="/maken"> De Kast </a>
				</li>
				<li>
					<a class="menu-item" href="/contact"> Contact </a>
				</li>
			</ul>
		</nav>
	</div>
	<!-- <div class="line"></div> -->

	<div class="mobile-none">
	<!-- <HeaderDef /> -->
</div>
</header>

<style>
	.header-wrapper {
		position: fixed;
		top: 0;
		left: 0;
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		width: 100%;
		padding-right: 2em;
		padding-left: 0em;
		z-index: 500;
	}

	nav {
		position: relative;
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		width: 100%;
		z-index: 500;
		height: 10vh;
		padding-left: 0;
	}

	.menu-item {
		text-decoration: none;
		color: var(--text-color);
		cursor: pointer;
		transition: 0.2s;
		display: flex;
		flex-direction: row;
		font-size: 1em;
	}

	:is(.menu-item.active) {
		color: var(	--background-color-light);
		font-weight: 400;
	}

	ul {
		display: flex;
		flex-direction: row;
		text-decoration: none;
		gap: 50px;
	}

	li {
		transition: 0.2s;
		list-style: none;
	}

	.menu-item:hover {
		color: var(	--background-color-light);
	}

	svg {
		margin-top: 1em;
		width: 20rem;
		margin-left: 0em;
	}

	.mobile-none {
		display: none;
	}

	@media screen and (max-width: 1122px) {
		.menu-item {
			font-size: 0.7em;
			display: none;
		}

		.header-wrapper {
			position: absolute;
			top: 0;
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			height: 10vh;
			width: 100%;
			padding-right: 2em;
			padding-left: 1em;
			padding-top: 0em;
		}

		.mobile-none {
		display: block;
	}
	}

	@media screen and (max-width: 700px) {
		.header-wrapper {
			position: absolute;
			top: 0;
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			height: 10vh;
			width: 100%;
			padding-right: 2em;
			padding-left: 1em;
			padding-top: 0em;
		}

		nav {
			overflow: hidden;
		}

		svg {
			margin-top: 0;
			width: 9rem;
		}

		ul {
			display: none;
		}

		.mobile-none {
		display: block;
	}
	}
</style>
